<template>
  <div class="main-container">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="160"
      height="160"
      viewBox="0 0 160 160"
      fill="none"
    >
      <rect width="160" height="160" fill="#E5E5E5" />
      <g id="Desktop - 1">
        <rect width="2129" height="4725" transform="translate(-710 -2556)" fill="white" />
        <g id="general-error" clip-path="url(#clip0)">
          <path
            id="bg"
            d="M160 80C160 124.152 124.152 160 80 160C35.848 160 0 124.152 0 80C0 35.848 35.848 0 80 0C124.152 0 160 35.848 160 80Z"
            fill="#BADFFA"
          />
          <g id="hand">
            <path
              id="finger-thumb"
              class="fingers"
              d="M30.2085 100.025L38.7503 76.2803C39.2004 75.0058 40.6044 74.3417 41.8782 74.8018C42.27 74.9464 42.6262 75.179 42.897 75.4964C44.6173 77.4771 45.2305 80.1805 44.5425 82.7026L40.7128 96.7418L40.5632 97.2134L40.3251 97.9801L40.0945 98.627L39.8501 99.3332L39.6594 99.8223L39.468 100.321L39.2654 100.84L39.0534 101.348L38.8309 101.865L38.5989 102.371C38.5634 102.459 38.5285 102.537 38.483 102.625L38.2517 103.121C37.1986 105.23 36.0107 106.929 34.9664 106.644C32.74 106.034 29.6083 102.262 30.2085 100.025Z"
              fill="#FAC79A"
            />
            <path
              id="shade"
              d="M-2.30918 138.683L22.8697 107.934C24.973 105.357 27.227 102.901 29.6006 100.573L46.8496 83.7088C53.2 85.6081 57.5709 88.6387 59.9809 92.8129C63.5909 99.0656 64.7209 106.323 59.7272 113.294C56.3902 117.934 50.4839 121.344 41.9997 123.529L18.6743 164.108L-2.30918 138.683Z"
              fill="#FFDAB8"
            />
            <path
              id="finger-pinky"
              class="fingers"
              d="M46.1115 104.656C44.0204 103.674 44.1288 99.1426 45.1109 97.0515C46.0929 94.9604 48.5782 94.064 50.6781 95.0414L68.2252 103.286C68.5939 103.457 68.923 103.681 69.2257 103.941L78.5545 112.76C79.563 113.714 79.6083 115.311 78.6496 116.332C78.4243 116.572 78.1492 116.759 77.8512 116.901C75.7466 117.837 73.2913 117.459 71.5606 115.932L64.5112 109.685L46.1115 104.656Z"
              fill="#FFDAB8"
            />
            <path
              id="finger-ring"
              class="fingers"
              d="M52.5984 102.09C50.2913 101.853 48.9055 97.5385 49.1432 95.2314C49.3764 92.9377 51.4373 91.2652 53.7354 91.5073L73.0283 93.5179C73.4173 93.5591 73.8106 93.6538 74.177 93.8067L85.8957 99.0696C87.1601 99.6359 87.7247 101.131 87.1629 102.404C87.0236 102.708 86.8262 102.985 86.5887 103.203C84.9081 104.787 82.4609 105.234 80.3385 104.357L71.6213 100.773L52.5984 102.09Z"
              fill="#FFDAB8"
            />
            <path
              id="finger-middle"
              class="fingers"
              d="M53.3104 87.6337C48.6858 89.8541 52.2645 97.9087 57.1892 96.4982L69.9475 88.5536L81.0464 88.4275C83.3456 88.4107 85.4673 87.1923 86.6438 85.2298C87.3332 84.078 86.9634 82.5916 85.8159 81.9112C85.5325 81.7367 85.2166 81.6332 84.8819 81.5831L71.4289 79.8556C69.9648 79.9484 68.5365 80.3235 67.2113 80.9598L53.3104 87.6337Z"
              fill="#FFDAB8"
            />
            <path
              id="finger-index"
              class="fingers"
              d="M50.706 93.5477C49.475 95.5029 46.8897 96.0746 44.9396 94.8304C42.9844 93.5994 40.4198 90.811 41.664 88.8609L52.972 74.4013C53.3137 73.8724 53.7687 73.4237 54.3091 73.09L67.6233 65.6497C68.6469 65.0743 69.9447 65.4398 70.5111 66.4675C70.6667 66.7373 70.7537 67.0492 70.7778 67.3679C70.9108 69.4716 69.9943 71.5144 68.3311 72.8092L59.5255 79.7037L50.706 93.5477Z"
              fill="#FFDAB8"
            />
            <path
              id="Vector"
              d="M61.6595 110.051C52.8295 116.621 45.3695 119.171 39.2995 117.701L12.7095 146.181L27.8695 147.621L41.8695 125.121C45.7695 124.311 49.6095 122.481 53.3695 119.621C57.1195 116.761 59.8895 113.571 61.6595 110.051Z"
              fill="#FAC79A"
            />
          </g>
          <g id="fly">
            <path
              id="money-error"
              d="M91.158 45.1151C91.568 44.3751 92.508 44.1051 93.258 44.5251C95.098 45.5451 96.868 46.8251 98.558 48.3351C99.188 48.9051 99.238 49.8851 98.668 50.5251C98.098 51.1551 97.128 51.2051 96.488 50.6351C94.968 49.2751 93.388 48.1351 91.748 47.2251C91.008 46.8051 90.738 45.8651 91.158 45.1151ZM101.556 18.9761C96.256 20.4861 93.216 23.8161 90.926 27.7661L90.576 28.3961C90.396 28.7061 90.226 29.0261 90.056 29.3561L89.726 30.0061L89.406 30.6561L88.936 31.6461L88.476 32.6561L87.276 35.3261C86.306 37.4761 85.296 39.5961 84.056 41.5261C84.556 41.5861 85.056 41.6561 85.556 41.7461C86.396 41.8961 86.946 42.7061 86.796 43.5461C86.646 44.3861 85.846 44.9461 85.006 44.7961C84.276 44.6561 83.536 44.5661 82.776 44.5061C82.496 44.4861 82.236 44.3861 82.016 44.2361C80.066 46.4361 77.566 48.1961 74.116 49.1761C72.916 49.5261 72.576 50.4061 73.536 51.2761L76.146 53.6561C76.996 54.4361 78.576 54.9261 79.766 54.7361C81.596 54.4361 83.496 54.3861 85.296 54.7261C87.106 55.0661 88.746 55.8161 90.026 56.9461C91.306 58.0761 92.166 59.5461 92.346 61.0161C92.516 62.3861 92.066 63.6761 90.886 64.5061L90.686 64.6261C89.826 65.1661 89.716 66.0361 90.566 66.8061L93.176 69.1861C94.126 70.0661 95.956 70.4561 97.056 69.9161C100.876 68.0561 103.186 64.9761 104.776 61.2961L104.736 61.2361C103.686 59.4061 102.596 57.7261 101.466 56.1961C100.956 55.5061 101.106 54.5361 101.796 54.0361C102.476 53.5261 103.446 53.6761 103.956 54.3561C104.696 55.3661 105.416 56.4261 106.116 57.5361C106.586 56.0061 106.976 54.4161 107.346 52.8161L107.676 51.3161L108.186 49.0061L108.456 47.8161L108.646 47.0161L108.926 45.8361L109.126 45.0561C109.156 44.9261 109.196 44.7961 109.226 44.6661L109.446 43.8961C111.026 38.2761 113.416 33.2861 118.746 30.6961C119.846 30.1561 120.316 29.4561 119.616 28.9861L105.156 19.3161C104.456 18.8461 102.766 18.6361 101.556 18.9761Z"
              fill="#FCA73E"
            />
            <path
              id="wing-right"
              d="M123.303 38.6041C129.666 35.8394 133.318 37.3829 136.779 42.3343C140.231 47.2856 148.256 49.401 148.256 49.401C148.256 49.401 143.811 53.1985 138.095 52.8307C132.379 52.4528 128.711 49.7691 128.711 49.7691C128.711 49.7691 129.827 52.6425 133.024 53.7405C133.024 53.7405 126.864 56.1776 120.603 50.3229C120.603 50.3229 119.651 52.1717 122.501 54.7357C122.501 54.7357 118.589 54.8593 115.435 52.7017C112.28 50.5541 112.374 49.4051 112.374 49.4051C112.374 49.4051 113.891 47.113 112.461 45.4659C112.904 46.8912 112.465 48.4961 111.243 49.5017C109.627 50.8226 107.259 50.5945 105.948 48.9988C104.933 47.7567 104.863 46.0457 105.629 44.7247C105.629 44.7247 106.571 42.8658 110.058 41.4771C113.534 40.0882 116.929 41.3686 123.303 38.6041Z"
              fill="white"
            />
            <path
              id="wing-left"
              d="M81.1234 21.516C78.5208 15.8065 75.1313 14.6304 69.849 15.8719C64.5567 17.1149 57.9056 13.6906 57.9056 13.6906C57.9056 13.6906 58.605 18.9353 62.6626 22.1432C66.7202 25.351 70.7911 25.7641 70.7911 25.7641C70.7911 25.7641 68.3134 27.0172 65.5063 25.8119C65.5063 25.8119 68.1772 31.1769 75.8849 31.0278C75.8849 31.0278 75.4178 32.8505 71.9669 32.8476C71.9669 32.8476 74.5209 35.2962 77.9318 35.7606C81.3413 36.2152 81.9626 35.3906 81.9626 35.3906C81.9626 35.3906 82.3205 32.927 84.2667 32.6869C83.1191 33.3803 82.4457 34.7189 82.6656 36.142C82.9528 38 84.6689 39.2829 86.5071 38.9988C87.9401 38.7773 89.0136 37.6703 89.2909 36.3221C89.2909 36.3221 89.7777 34.4963 88.2862 31.4585C86.7848 28.4222 83.736 27.2239 81.1234 21.516Z"
              fill="white"
            />
          </g>
          <path
            id="Vector_3"
            d="M160 0V160H80C124.181 160 160 124.181 160 80C160 35.8187 124.181 0 80 0C35.8187 0 0 35.8187 0 80C0 124.181 35.8187 160 80 160H0V0H160Z"
            fill="white"
          />
        </g>
      </g>
      <defs>
        <clipPath id="clip0">
          <rect width="160" height="160" fill="white" />
        </clipPath>
      </defs>
    </svg>
    <btn-play @click="onPlay" />
  </div>
</template>

<script>
import { animate } from 'motion'
import BtnPlay from './BtnPlay.vue'
let animation = []
export default {
  components: {
    BtnPlay,
  },

  data() {
    return {
      isAnimating: false,
    }
  },

  methods: {
    onPlay() {
      this.initAnimation()
    },
    initAnimation() {
       if (this.isAnimating) {
        animation.forEach(a => a && a.cancel())
        animation = []
        this.isAnimating = false
        return
      }
      this.isAnimating = true

      animation.push(animate(
        '#money-error',
        { transform: 'translateY(-10px)' },
        { duration: 0.5, repeat: Infinity, direction: 'alternate' }
      ))

      animation.push(animate(
        '#wing-right',
        { transform: 'translateY(-10px) rotate(40deg)' },
        { duration: 0.5, repeat: Infinity, direction: 'alternate' }
      ))

      animation.push(animate(
        '#wing-left',
        { transform: 'translateY(-12px) rotate(-34deg)' },
        { duration: 0.5, repeat: Infinity, direction: 'alternate' }
      ))

      animation.push(animate(
        '#hand',
        { transform: 'translateY(-3px) translateX(3px)' },
        { duration: 1, repeat: Infinity, direction: 'alternate' }
      ))

      animation.push(animate(
        '.fingers',
        { transform: 'rotate(-8deg)' },
        { duration: 1, repeat: Infinity, direction: 'alternate' }
      ))

      animation.push(animate(
        '#finger-thumb',
        { transform: 'rotate(-3deg)' },
        { duration: 1, repeat: Infinity, direction: 'alternate' }
      ))
    },
  },
}
</script>

<style scoped>
#wing-right {
  transform-origin: left;
  transform-box: fill-box;
}

#hand,
.fingers {
  transform-origin: bottom;
  transform-box: fill-box;
}

#wing-left {
  transform-origin: bottom right;
  transform-box: fill-box;
}
</style>
